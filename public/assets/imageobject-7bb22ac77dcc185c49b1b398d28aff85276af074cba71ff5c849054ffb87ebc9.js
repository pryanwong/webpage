var imageobject=function(){};imageobject.imageDown=function(e){log.info("Entering imageDown"),""!=handler&&document.removeEventListener("contextmenu",handler),activeObjectVal&&(activeObject=!0),3==e.e.which&&(handler=function(e){if(0==contextmenuon&&1==activeObject){if(e.preventDefault(),log.trace("ActiveObjectVal: ",activeObjectVal),log.trace("Has configdbid property: ",activeObjectVal.hasOwnProperty("configdbid")),0!=activeObjectVal.configdbid)var n=["Configure","Delete Image","Send To Back","Send Backward","Bring Forward","Bring To Front"];else var n=["Delete Image","Send To Back","Send Backward","Bring Forward","Bring To Front"];menus(n,e),$('a:contains("Configure")').click(function(){var e=activeObjectVal.configdbid,n=1;searchId=getItemIndex(activeObjectVal),canvas.setActiveObject(canvas.item(searchId)),$("#configsection").modal("show"),$("#gifspinner").show(),document.getElementById("data").innerHTML="";var c=!1,t="",o=canvas.item(searchId).config;void 0!=o&&(log.info("Object Config is Defined: ",o),c=!0,t=o.split("-"));var a="/companies/"+n+"/prices/"+e+"/productconfig.json",i="";$.ajax({url:a,type:"GET",dataType:"json",data:i,contentType:"application/json",timeout:3e3,complete:function(){$("#gifspinner").fadeOut(400),log.info("Ajax Call is Complete")},success:function(e){loadConfigScreen(e,c,t),log.trace(e),log.info("Ajax Call is Success")},error:function(e,n){log.trace(e),alert(n),log.info(n)}}),$("#contextMenu").remove(),contextmenuon=!1,activeObject=!0}),$('a:contains("Delete")').click(function(){log.debug("imageDown: In Delete"),log.trace(activeObjectVal),canvas.remove(activeObjectVal),$("#contextMenu").remove(),contextmenuon=!1,activeObject=!1}),$('a:contains("Change Color")').click(function(){activateColorPicker(e)}),$('a:contains("Send Backward")').click(function(){sendBackward()}),$('a:contains("Send To Back")').click(function(){sendToBack()}),$('a:contains("Bring Forward")').click(function(){bringFoward()}),$('a:contains("Bring To Front")').click(function(){bringToFront()}),contextmenuon=!0}}),document.addEventListener("contextmenu",handler,!1),log.info("Leaving imageDown")};
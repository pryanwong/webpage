var textobject=function(){};textobject.textDown=function(e){log.info("Entering textDown"),""!=handler&&document.removeEventListener("contextmenu",handler),activeObjectVal&&(activeObject=!0),3==e.e.which&&(handler=function(t){if(0==contextmenuon&&1==activeObject){t.preventDefault();var n=["Delete","Change Color","Send Backward","Send To Back","Bring Forward","Bring To Front"];angular.element(document.querySelector('[ng-controller="ModalProductConfigController as mpc"]')).scope().mpc.deleteAction=function(){log.debug("textDown: In Delete");var e=getItemByIndex(searchId);log.trace(e),canvas.remove(e),$("#contextMenu").remove(),contextmenuon=!1,activeObject=!1},updateSearchId(e),textmenus(n,t),contextmenuon=!0}}),document.addEventListener("contextmenu",handler,!1),log.info("Leaving textDown")};
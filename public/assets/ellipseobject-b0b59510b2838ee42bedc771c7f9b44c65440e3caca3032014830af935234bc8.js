var ellipseobject=function(){};ellipseobject.objectResize=function(e){newWidth=e.target.width*e.target.scaleX,newHeight=e.target.height*e.target.scaleY,newRadiusX=newWidth/2,newRadiusY=newHeight/2,e.target.set({rx:newRadiusX,ry:newRadiusY,scaleX:1,scaleY:1})},ellipseobject.makeEllipseShape=function(e){return log.info("Entering makeEllipseShape"),new fabric.Ellipse({top:e[1],left:e[0],rx:15,ry:7,fill:void 0,stroke:"red",lockUniScaling:!1,hasRotatingPoint:!0,strokeWidth:5})},ellipseobject.ellipseDown=function(e){log.info("Entering ellipseDown"),""!=handler&&document.removeEventListener("contextmenu",handler),activeObjectVal&&(activeObject=!0),3==e.e.which&&(handler=function(n){if(0==contextmenuon&&1==activeObject){n.preventDefault();var t=["Delete","Change Color","Send Backward","Send To Back","Bring Forward","Bring To Front"];angular.element(document.querySelector('[ng-controller="ModalProductConfigController as mpc"]')).scope().mpc.deleteAction=function(){log.debug("ellipseDown: In Delete");var e=getItemByIndex(searchId);log.trace(e),canvas.remove(e),$("#contextMenu").remove(),contextmenuon=!1,activeObject=!1},updateSearchId(e),menus(t,n),contextmenuon=!0}},document.addEventListener("contextmenu",handler,!1)),log.info("Leaving ellipseDown")},ellipseobject.ellipsedrop=function(e,n){log.debug("In ellipse_icon.png section"),objectName="circle";var t=e.layerX,o=e.layerY,n=objId_var+1;objId=n;var l=ellipseobject.makeEllipseShape([t,o],n);l.hasBorders=l.hasControls=!0,l.on("mousedown",function(e,n){ellipseobject.ellipseDown(e,n)}),l.id=itemId,itemId+=1,canvas.add(l)};
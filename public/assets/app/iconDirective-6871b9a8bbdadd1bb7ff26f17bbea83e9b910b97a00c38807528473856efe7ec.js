angular.module("app").directive("iconDirective",["$compile",function(){return{restrict:"EA",replace:!0,scope:{data:"=iconDirective"},template:'<tr><td><img ng-src="{{data[0].image_tag}}" img_val="{{data[0].img_val}}" data-config="{{data[0].data_config}}"data-loc="{{data[0].data_loc}}" data-model="{{data[0].data_model}}" draggable="{{data[0].draggable}}"width={{data[0].width}} height ={{data[0].height}}/><figcaption>{{data[0].caption}}</figcaption></td><td ng-if="data.length==2"><img ng-src="{{data[1].image_tag}}" img_val="{{data[1].img_val}}" data-config="{{data[1].data_config}}"data-loc="{{data[1].data_loc}}" data-model="{{data[1].data_model}}" draggable="{{data[1].draggable}}"width={{data[1].width}} height ={{data[1].height}}/><figcaption>{{data[1].caption}}</figcaption></td></tr>',link:function(a,t){a.$evalAsync(function(){var a=angular.element(t.find("img")[0]),i=[];if(2==data.length){var d=angular.element(t.find("img")[1]);i=[a,d]}else i=[a];for(var g=0;g<i.length;g++)i[g].bind("dragstart",function(){log.info("Entering handleDragStart"),this.classList.remove("img_dragging"),this.classList.add("img_dragging"),log.info("Leaving handleDragStart")}),i[g].bind("dragend",function(){log.info("Entering handleDragEnd"),this.classList.remove("img_dragging"),log.info("Leaving handleDragEnd")})})}}}]);
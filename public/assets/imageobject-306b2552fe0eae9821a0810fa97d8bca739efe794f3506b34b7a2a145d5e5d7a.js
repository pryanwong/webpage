var imageobject=function(){};imageobject.imageDown=function(e){log.info("Entering imageDown"),""!=handler&&document.removeEventListener("contextmenu",handler),activeObjectVal&&(activeObject=!0),3==e.e.which&&(handler=function(e){if(0==contextmenuon&&1==activeObject){if(e.preventDefault(),log.trace("ActiveObjectVal: ",activeObjectVal),log.trace("Has configdbid property: ",activeObjectVal.hasOwnProperty("configdbid")),0!=activeObjectVal.configdbid)var n=["Configure","Delete","Send To Back","Send Backward","Bring Forward","Bring To Front"];else var n=["Delete","Send To Back","Send Backward","Bring Forward","Bring To Front"];angular.element(document.querySelector('[ng-controller="ModalProductConfigController as mpc"]')).scope().mpc.deleteAction=function(){log.debug("imageDown: In Delete"),log.trace(activeObjectVal),canvas.remove(activeObjectVal),$("#contextMenu").remove(),contextmenuon=!1,activeObject=!1},angular.element(document.querySelector('[ng-controller="ModalProductConfigController as mpc"]')).scope().mpc.configureAction=function(){var e=activeObjectVal.configdbid,n=1;searchId=getItemIndex(activeObjectVal),canvas.setActiveObject(canvas.item(searchId)),$("#configsection").modal("show"),$("#gifspinner").show(),document.getElementById("data").innerHTML="";var t=!1,o="",c=canvas.item(searchId).config;void 0!=c&&(log.info("Object Config is Defined: ",c),t=!0,o=c.split("-"));var a="/companies/"+n+"/prices/"+e+"/productconfig.json",i="";$.ajax({url:a,type:"GET",dataType:"json",data:i,contentType:"application/json",timeout:3e3,complete:function(){$("#gifspinner").fadeOut(400),log.info("Ajax Call is Complete")},success:function(e){loadConfigScreen(e,t,o),log.trace(e),log.info("Ajax Call is Success")},error:function(e,n){log.trace(e),alert(n),log.info(n)}}),$("#contextMenu").remove(),contextmenuon=!1,activeObject=!0},menus(n,e),contextmenuon=!0}}),document.addEventListener("contextmenu",handler,!1),log.info("Leaving imageDown")};